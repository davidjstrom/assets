(function(F){var B=window.AmazonUIPageJS||window.P,ta=B._namespace||B.attributeErrors,e=ta?ta("DetailPageImageBlockAssets",""):B;e.guardFatal?e.guardFatal(F)(e,window):e.execute(function(){F(e,window)})})(function(F,B,ta){F.register("postMetric",function(){return{postCountMetric:function(e){if("undefined"!==typeof e){var m=B.ue;if(m){var n=m.count(e)||0;m.count(e,n+1)}}},postTimeMetric:function(e,m){if("undefined"!==typeof e&&"undefined"!==typeof m){var n=B.ue;n&&n.count(e,m)}}}});"use strict";F.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});F.register("postEarlyMetric",function(){return null});"use strict";F.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(e,m,n,b){e=e.extend(!0,{},n,b);var h=new m(e);F.register("ImageBlockAPI",function(){return h.api});return h});"use strict";F.when("A","jQuery","ImageBlockBTF").register("ImageBlockAiryLoader",function(e,m,n){e=n.airyConfig;e.jsUrl&&(F.load.js(e.jsUrl),B.performance&&performance.now&&B.ue&&ue.count&&
ue.count("DPAiryDownloadStartTime",B.parseInt(performance.now())));e.cssUrl&&F.load.css(e.cssUrl)});"use strict";F.when("A","jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(e,m,n,b,h,I){var w={};return function(e){var d=this;d.dispatch=function(b,d){var e=w[b];h.isDefined(e)&&m.each(e,function(b,g){g.call(B,d)})};d.register=function(b,d){h.isDefined(w[b])||(w[b]=[]);"function"===typeof d&&w[b].push(d)};d.model=new n(e,d);d.view=
new b(e,d,d.model);d.api=new I(e,d,d.model);d.init=function(){d.model.init();d.view.init()};d.init()}});"use strict";F.when("A","jQuery","imageBlockUtils").register("ImageBlockModel",function(e,m,n){function b(b,d,g,h,a){n.isDefined(b)&&(H.type=b);n.isDefined(d)&&(H.index=d);n.isDefined(g)&&(H.thumbnailIndex=g);n.isDefined(h)&&(H.variant=h);n.isDefined(a)&&(H.color=a)}function h(g){b("image",0,0,"MAIN",g||d.landingAsinColor||d.defaultColor)}function I(d){d=d.data;D=e.copy(H);b(d.type,d.index,d.thumbnailIndex,
d.variant,d.color)}function w(b){I(b);b=e.copy(b);b.data=e.copy(H);g.dispatch("updateView",b)}function q(){D=e.copy(H);h(H.color)}var d,g,H={},D={},E,G;return function(b,m){g=m;d=b;g.register("updateSelection",w);g.register("updateModel",I);g.register("resetModel",q);this.init=function(){h()};this.getCurrentItem=function(){return e.copy(H)};this.getPreviousItem=function(){return e.copy(D)};this.setCurrentEvent=function(b){E=b};this.getCurrentEvent=function(){return E};this.setImmersiveViewModalInstance=
function(b){G=b};this.getImmersiveViewModalInstance=function(){return G};this.updateTitle=function(b){d.title=b}}});"use strict";F.when("ImageBlockBTF","postMetric").execute(function(e,m){function n(b,e,m,n,d){function g(a){"click"===a.type&&n.postCountMetric("thumbClick");"click"===a.type&&A.overrideAltImageClickAction?t.dispatch("thumbActionClick",a):t.dispatch("updateSelection",a)}function H(a){A.useClickZoom||t.dispatch("imageClick",a)}function D(a){A.useClickZoom||t.dispatch("imageHover",a)}
function E(a){t.dispatch("button360Click",a)}function G(d){!m.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(a.update(d),"swatchHover"!==d.type&&M.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&n.postCountMetric(d.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",d.data)):a.render(d.data.color,!1,d.onload)}function x(a){t.dispatch("resize",a)}function J(a){m.selectThumbnail(a,p)}function O(a){var b=a.data,d;b&&"ingress"!==b.type&&"click"===a.type&&
(d=a);return d}function N(a){var b=M.getCurrentItem(),d={type:"click"};d.$declarativeParent=a;d.data=b;return d}var a,A,t,M,p;return function(y,k,m){a=this;A=y;t=k;M=m;p=e("#imageBlock #altImages ul");var n=e("#imageBlock .canvas"),c=e("#main-image-container"),f;a.subViews=[];for(k=0;k<d.length;k++)a.subViews.push(new d[k](y,m,a,t));a.render=function(l,b,d){var k=0;p.find(".item").remove();l=l||M.getCurrentItem().color;e.each(a.subViews,function(a,f){k=f.render(l,k,n,p,c,b,d)||k});var g=p.find(".a-button-selected").closest(".a-declarative");
f=N(g)};a.init=function(){p=e("#imageBlock #altImages ul");var c=p.find(".a-button-selected").closest(".a-declarative"),f=c.data("action"),c=c.data(f)||{};c.color=A.landingAsinColor||A.defaultColor;t.dispatch("updateModel",{data:c});a.render(c.color,!0);A.isDebug&&B.console&&console.log(A);t.register("updateView",G);t.register("selectThumbnail",J);"function"===typeof B.markFeatureInteractive&&B.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click","hover"]},
{name:"thumbnail",events:["click","hover"]}]});A.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],g);b.declarative("thumb-action",["click"],g);b.declarative("main-image-click",["click"],H);b.declarative("main-image-click",["mouseenter","mouseleave"],D);b.declarative("button-360-click",["click"],E);b.on("resize",x)};a.update=function(c){e.each(a.subViews,function(a,b){b.update(c)});A.usePeekHover&&("mouseleave"===c.type?t.dispatch("updateSelection",f):"click"===c.type&&
(f=O(c)||f))}}}var b=["A","jQuery","imageBlockUtils","postMetric"].concat(e.views);F.when.apply(F,b).register("ImageBlockView",function(){for(var b=arguments[0],e=arguments[1],m=arguments[2],q=arguments[3],d=[],g=4,H=arguments.length;g<H;g++)d.push(arguments[g]);return n(b,e,m,q,d)})});"use strict";F.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(e,m,n,b,h,I,w){function q(a,c,b,f){if(!n.isjQueryObjDefined(a.find(".a-button-selected"))){var l=
y.getCurrentItem();if(!f||"chromeless-video"!==l.type||!p.autoplayVideo){f=0;"image"===l.type&&(f=Math.max(H(l.color,l.variant),0));var d=c+f;d>=b&&(f=0,d=c);c=n.getImageHash(l.color,f,p);-1!==c&&(k.dispatch("updateModel",{data:{index:f,thumbnailIndex:d,variant:c.variant,type:"image"}}),c=a.find(".item").get(d),n.selectGivenThumbnail(m(c),a))}}}function d(a,c,f){c=p.colorImages&&p.colorImages[c];var b=a;n.isDefined(c)&&(m.each(c,function(c,f){a<p.maxAlts&&(n.createThumbnail({type:"image",index:c,
thumbnailIndex:a,variant:f.variant},f.thumb,L,"imageThumbnail"),a++)}),I.isEnabled&&w.logAltImgRequestPlacedOnThumbnails(m,I,y),q(L,b,a,f));return a}function g(a,c){if("image"===a.type){var f=m("#image-canvas-caption #canvasCaption"),b,l=p.staticStrings,d=p.colorImages,k=a.color,g=a.index;c&&p.useIV?b=l.clickToExpand:d[k]&&d[k][g].hiRes&&p.useHoverZoom?(b=p.useHoverZoomIpad?l.touchToZoom:p.useClickZoom?l.clickToZoom:l.rollOverToZoom,p.hoverZoomIndicator&&(b="\x3cimg src\x3d'"+p.staticImages.hoverZoomIcon+
"'/\x3e\x26nbsp;"+b)):p.useIV&&(b=l.clickToExpand);f.html(b)}}function H(a,c){return n.getIndexForVariant(a,c,p)}function D(a,b){var f="a-dynamic-image";if(!p.acEnabled){var l;m.each(a.main,function(a,c){n.isDefined(l)||(l=parseFloat(c[1]/c[0])<=parseFloat(p.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=l}var d=n.getMaxDimensionsOfMainImage(a.main,c,p),k=d[0],g=d[1],d=m("\x3cdiv\x3e\x3c/div\x3e"),k={"max-height":k,"max-width":g};d.addClass(f).css(k).attr({"data-old-hires":a.hiRes,
"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",a.main);return d}function E(a){var c=u.find(".swatchHoverExp");a=D(a);c.find(".imgTagWrapper").html(a);e.loadImageManually(a);return c}function G(a){var f=c.css("height");null!==f&&a.find(".imgTagWrapper").css("height",f);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function x(a,c){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){var f=n.getImageHash(a.color,
a.index,p);if(-1===f)return f={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},n.lazyLoadingRequired(a,y,p)?N(a,!1,c):(k.dispatch("updateModel",f),n.showUnavailable(a.color)),-1;var b=u.find(".item.itemNo"+a.thumbnailIndex);if(!n.isjQueryObjDefined(b)){var b=a.thumbnailIndex,b=u.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+b+" maintain-height"),l=D(f,c);b.find(".placeHolder").replaceWith(l);u.find(".list").append(b);e.loadImageManually(l)}G(b);
k.dispatch("loadMagnifier");g(a);p.useIV&&n.isDefined(f.hiRes)&&b.css("cursor","pointer");a.isUserGenerated&&(b=y.getPreviousItem(),l=a.variant,n.isDefined(l)&&b.thumbnailIndex!==a.thumbnailIndex&&(I.isEnabled&&w.logAltImgRequestServed(I),h.postCountMetric("ImageThumbnailSelectedVariant:"+l),0===l.indexOf("IG")&&(h.postCountMetric("IGImageSelectedVariant:"+l),h.postCountMetric("IGImageSelectedEvent:"+a.interaction))));e.trigger("dp:image-block:update",f)}}function J(a){var c=Math.max(H(a.color,y.getCurrentItem().variant),
0),c=n.getImageHash(a.color,c,p);if(-1===c)return n.lazyLoadingRequired(a,y,p)?n.lazyLoadOnHoverEnabled(p)&&(O(".3",!0),n.spinner(u,!0),e.delay(function(){y.getCurrentEvent().data===a&&N(a,!0)},500)):n.showUnavailable(a.color),-1;var f=E(c);G(f);e.trigger("dp:image-block:update",c)}function O(a,c){c?u.css("opacity",a):m("#imageBlock").css("opacity",a)}function N(c,d,g){f=d;l=g;var e=c.color,t=p.colorToAsin[e];if(t&&t.asin){var r={};r.params={asin:t.asin,productGroupID:p.productGroupID,color:e};r.success=
function(b){b?(n.ajaxState(t.asin,"success"),p.colorImages[e]=b.colorImage,n.isDefined(p.spin360ColorEnabled)&&(p.spin360ColorEnabled[e]=b.enable360),e===c.color&&(d&&f?c===y.getCurrentEvent().data&&(a(c),J(c)):(b={type:"updatedData",data:y.getCurrentItem(),onload:g||l},k.dispatch("updateView",b))),F.register(n.rankedImagesReadyEvent(t.asin))):n.ajaxState(t.asin,"fail")};r.error=function(){n.ajaxState(t.asin,"fail")};r.indicator=n.spinner(u);n.ajaxState(t.asin,void 0)&&"fail"!==n.ajaxState(t.asin,
void 0)||(O(".3",d),b.load("/gp/product/features/apparel-main-image/ranked-images.html",r),n.ajaxState(t.asin,"sent"));return p.colorImages&&p.colorImages[e]}}function a(a,c){n.lazyLoadingRequired(a,y,p)||(m("#imageBlock").css("opacity","1"),u.css("opacity","1"),n.spinner(u,!1),u.find("li").removeClass("selected"),m("#image-canvas-caption #canvasCaption").empty(),n.hideUnavailable(),c&&u.find(".list .item").remove())}function A(){var a=u.find(".item .imgTagWrapper"),b=n.getContainerHeight(c,p.holderRatio,
p.holderMaxHeight);0<b&&(c.height(b),a.height(b));u.find("img.a-dynamic-image").each(function(){var a=m(this);a.data("a-manual-replacement")&&e.loadDynamicImage(this);var b=a.data("a-dynamic-image"),b=n.getMaxDimensionsOfMainImage(b,c,p);a.css({"max-height":b[0]+"px","max-width":b[1]+"px"})})}function t(a){g(y.getCurrentItem(),"mouseenter"===a.type)}var M,p,y,k,L,u,c,f,l,r;return function(b,f,l,g){M=this;p=b;y=f;k=g;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];M.render=function(b,
f,l,g,e,t,h){u=l;L=g;c=e;r=d(f,b,t);t||(b=y.getCurrentItem(),n.lazyLoadingRequired(b,y,p)&&k.dispatch("updateModel",{data:{type:"lazy-loaded"}}));a(y.getCurrentItem(),!t);x(y.getCurrentItem(),h);return r};M.update=function(c){var b=c.data;y.setCurrentEvent(c);"ingress"!==b.type&&a(c.data,!1);"swatchHover"===c.type?b.color===y.getCurrentItem().color?x(y.getCurrentItem()):c.captured||-1===J(b)||(c.captured=!0):"image"===b.type&&(b.interaction=c.type,b.isUserGenerated=!0,"mouseenter"===c.type&&h.postCountMetric("dpcc_imageThumbHovered_"+
(b.thumbnailIndex+1)+"_"+r),x(b),p.usePeekHover&&"click"!==c.type||(n.selectGivenThumbnail(c.$declarativeParent,L),"click"===c.type&&h.postCountMetric("dpcc_imageThumbClicked_"+(b.thumbnailIndex+1)+"_"+r)))};k.register("imageHover",t);k.register("resize",A)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(e,m,n,b,h,I){function w(b){O?b.css("cursor","url('"+D.staticImages.zoomIn+"'), auto"):
(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function q(b){var a=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(n.isDefined(a))for(var a=a[1].split("_"),d=0;d<a.length;d++){var g=a[d].match(/^([A-Z]+)(\d+(\.\d+)?)$/);n.isDefined(g)&&(b[g[1]]=parseInt(g[2],10))}return b}function d(d,a){function g(){var c;a.useClickZoom?(c=a.offsetInClickZoom,c=[Math.min(1,Math.max(0,x[0]-(E[0]+c))/(E[2]-2*c)),Math.min(1,Math.max(0,x[1]-(E[1]+c))/(E[3]-2*c))]):c=
r&&r.updatePosition();if(c&&l&&l.detailSize){var b=[l.detailSize[0]-l.rect.width,l.detailSize[1]-l.rect.height];e.capabilities.rtl?l.detailImage.get(0).style.right=-(c[0]*b[0])+"px":l.detailImage.get(0).style.left=-(c[0]*b[0])+"px";l.detailImage.get(0).style.top=-(c[1]*b[1])+"px"}}function t(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function H(a){var c=V?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";x=V?[c.pageX,c.pageY]:[a.pageX,a.pageY];if(e.capabilities.rtl){var b=
m(B).width();x=V?[b-c.pageX,c.pageY]:[b-a.pageX,a.pageY]}}function p(f){V&&f.preventDefault();H(f);a.useClickZoom?f=[E[0],E[1],E[0]+E[2],E[1]+E[3]]:(f=r?r.offset:d.offsetParent().offset(),f=D.acEnabled?[f.left,f.top,c.width()+f.left,c.height()+f.top]:[z[0]+f.left,z[1]+f.top,z[0]+z[2]+f.left,z[1]+z[3]+f.top]);x[0]<f[0]||x[1]<f[1]||x[0]>=f[2]||x[1]>=f[3]||D.acEnabled&&!t(d)?(a.fadeMagnifier?aa||(aa=!0,F=setTimeout(function(){y(!0)},500)):a.useClickZoom||y(),W&&(W=!1,clearTimeout(ea))):(W||(W=!0,ea=
setTimeout(function(){b.postCountMetric("dppc_hoverZoomOpened");h.isEnabled&&I.logHoverZoomRequestServed(h)},1E3)),a.fadeMagnifier&&aa&&(aa=!1,clearTimeout(F)),g())}function y(a){a&&u.suppressMagnifier(!0);if(Q&&(l&&l.hide(),r&&(r.destroy(),r=null),Q=!1,V?(d.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),m(document).trigger("disengaged.magnifier")):m(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),G(),a))d.one("click.magnifier touchstart.magnifier",function(a){k(a,
!0)})}function k(f,k){k&&u.suppressMagnifier(!1);if(!Q&&!J&&(0===ha&&(b.postCountMetric("dppc_hoverTime",new Date-(B.ue&&B.ue.t0||0)),ha=1),ja[S]||(b.postCountMetric("dppc_hoverMain"),ja[S]=1),z=[d.position().left,d.position().top,d.width(),d.height()],S&&(H(f),l?l.refit().show():l=new fa,a.useClickZoom||(r=r||new ia),E=l.getWindowSize(),g()),Q=!0,V?(d.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",p).bind("touchend.magnifier",y),m(document).trigger("engaged.magnifier")):
(D.acEnabled?c.unbind("mousemove.magnifier"):d.unbind("mousemove.magnifier"),m(document).trigger("engaged.magnifier").bind("mousemove.magnifier",p)),k)){var e=m("#zoomWindow");if(0<e.length)e.one("click.magnifier touchend.magnifier",function(a){y(!0)})}}function G(){a.useHoverZoom&&(V?d.bind("touchstart.magnifier touchmove.magnifier",k):D.acEnabled?t(d)&&c.bind("mousemove.magnifier",k):d.bind("mousemove.magnifier",k))}var u=this,c=d.offsetParent(),f={detailImageUrl:d.attr("data-old-hires"),location:"over",
locationElement:d,prelaod:"ready",zIndex:50,offsetInClickZoom:50};a=m.extend(f,a);a.adjustment=[10,0,-10,0];var l=null,r=null,x=null,z=null,E=null,U={"null":1,"":1,undefined:1},Q=!1,J=!1,S=a.detailImageUrl,V=a.useHoverZoomIpad||0,ha=0,ja={},ia=function(){function c(a){var b=Math.round(Math.min(d.width(),l.rect.width/a));a=Math.round(Math.min(d.height(),l.rect.height/a));e.css({width:b,height:a});f=[b,a]}var b=this,f=[0,0],g=(l.detailSize&&l.detailSize[0]||5E8)/z[2],k=(l.detailSize&&l.detailSize[1]||
5E8)/z[3],g=k>g?k:g;m("#magnifierLens").remove();var e=m("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});a.generalImageUrls.zoomLensBackground&&e.css({backgroundImage:"url("+a.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?w(e):e.css("cursor","pointer");b.updatePosition=function(){var a=[z[2]-f[0],z[3]-f[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(x[0]-f[0]/2-z[0]-b.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(x[1]-f[1]/2-z[1]-b.offset.top)/a[1])),l=z[0]+
Math.round(c*a[0]),a=z[1]+Math.round(d*a[1]);e.get(0).style.left=l+"px";e.get(0).style.top=a+"px";return[c,d]};b.destroy=function(){e.remove()};b.offset=d.offsetParent().offset();c(g);b.updatePosition();e.appendTo(d.parent());l.detailImage[0].complete||l.detailImage.load(function(){var a=l.detailImage.width()/z[2];c(a);b.updatePosition()})};ia.preload=function(){u.preload(a.generalImageUrls.lensBackgroundUrl)};var fa=function(){function c(){var b={};if("over"===a.location){var b=a.useClickZoom,k=
{},g=m("#leftCol"),p=m("#centerCol"),t=m("#rightCol"),r=m("#hover-zoom-end"),h=m("#actionPanelContainer"),ha=n.isjQueryObjDefined(g)?g.outerHeight():p.outerHeight();k.top=n.isjQueryObjDefined(g)?g.offset().top:p.offset().top;k.bottom=ha+k.top;k.right=n.isjQueryObjDefined(t)?t.offset().left:h.offset().left;k.left=b?0:g.offset().left+g.outerWidth();n.isjQueryObjDefined(r)&&r.offset().top>k.bottom&&(k.bottom=r.offset().top);b=k}else"right"===a.location&&(b=d.offset(),b={left:b.left+d.outerWidth(),top:b.top,
right:b.left+d.outerWidth()+400,bottom:b.top+400});a.minHeightElement&&(b.bottom=Math.max(b.bottom,b.top+m(a.minHeightElement).outerHeight()));b.bottom=Math.min(b.bottom,m(B).scrollTop()+m(B).height());b.left+=l[0];b.top+=l[1];b.right+=l[2];b.bottom+=l[3];b.width=b.right-b.left;b.height=b.bottom-b.top;a.enhancedHoverOverlay&&n.isDefined(B.pageXOffset)&&(k=m(B).width(),b.width=k-b.left+B.pageXOffset-18,b.height-=14);e.css({left:b.left,top:b.top,width:b.width,height:b.height});f.rect=b;return f}function b(c){var d=
new Image;f.detailSize=[0,0];d.onload=function(){f.detailSize=[d.width,d.height];g()};d.src=c.attr("src");if(0<d.width&&0<d.height)f.detailSize=[d.width,d.height];else if(a.detailImageSize)f.detailSize=a.detailImageSize;else{c=q(d.src);var l=z[2]/z[3];c.SS||c.AA?(c=c.SS||c.AA,f.detailSize=[c,c]):c.SX?f.detailSize=[c.SX,Math.round(c.SX/l)]:c.SY?f.detailSize=[Math.round(c.SY*l),c.SY]:c.SL&&(f.detailSize=1<=l?[c.SL,Math.round(c.SL/l)]:[Math.round(c.SL*l),c.SL])}}var f=this,l=a.adjustment;m("#zoomWindow").remove();
var k={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:a.zIndex};a.enhancedHoverOverlay&&(k.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",k.border="1px solid #949494",k.borderColor="rgb(148,148,148)");var e=m("\x3cdiv id\x3d'zoomWindow' /\x3e").css(k);a.fadeMagnifier&&e.fadeIn(200);a.useClickZoom&&(O?e.css("cursor",'url("'+a.zoomOutIcon+'"), auto'):(e.css("cursor","-webkit-zoom-out"),e.css("cursor","-moz-zoom-out"),e.css("cursor","zoom-out")));f.updateImage=function(a){a=m("\x3cimg id\x3d'detailImg' src\x3d'"+
a+"'/\x3e").css("position","absolute");f.detailImage&&f.detailImage.remove();e.append(a);m(document).trigger("updated.magnifier");f.detailImage=a;b(f.detailImage)};f.refit=function(){c();b(f.detailImage);return f};a.fadeMagnifier?(f.show=function(){e.fadeIn(200);return f},f.hide=function(){e.fadeOut(200);return f}):(f.show=function(){e.show();return f},f.hide=function(){e.hide();return f});f.destroy=function(){e.remove();return f};f.getWindowSize=function(){return[f.rect.left,f.rect.top,f.rect.width,
f.rect.height]};f.updateImage(S);c();e.appendTo(document.body)},aa=!1,F,W=!1,ea;u.preload=function(a){a=m.makeArray(a);for(var c=a.length,b=0;b<c;b++)a[b]instanceof Array?u.preload(a[b]):"string"===typeof a[b]&&a[b]&&!U[a[b]]&&(U[a[b]]=new Image,U[a[b]].src=a[b])};u.changeImage=function(b,c){Q&&y();S=c;d.attr("src",b);u.preload(b);z=[d.position().left,d.position().top,d.width(),d.height()];c&&("immediately"===a.preload?u.preload(c,!0):m(B).ready(function(){u.preload(c)}),l?l.updateImage(c):d.attr("data-old-hires",
c))};u.destroy=function(){D.acEnabled?c.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):d.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");m(document).unbind("mousemove.magnifier");r&&r.destroy();r=null;l&&l.destroy();l=null};u.detailImage=function(){return l.detailImage};u.suppressMagnifier=function(a){J=a};u.isEngaged=function(){return Q};u.engageMagnifier=k;u.disengageMagnifier=y;d[0].complete?G():d.one("load",G);u.preload(d.attr("src"));
if(a.preload){var C=a.detailImageUrl,f=function(){u.preload(C,!0);a.useClickZoom||ia.preload()},R=a.preload;R.constructor!==Array&&(R=[R]);for(var ba=0;ba<R.length;ba++)if("immediately"===R[ba])f();else if(m(B)[R[ba]])m(B)[R[ba]](f);else m(B).bind(R[ba],f)}return u}function g(){if(D.useHoverZoom){var b={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:190,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,
fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};x&&(x.destroy(),x=void 0);var a=J.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");n.isjQueryObjDefined(a)?D.useClickZoom?(a.one("click.loadmagnifier touchstart.loadmagnifier",function(g){x=new d(a,b);x.engageMagnifier(g,!0)}),O?a.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(a.css("cursor","-webkit-zoom-in"),a.css("cursor",
"-moz-zoom-in"),a.css("cursor","zoom-in"))):x=new d(a,b):h.isEnabled&&I.logHoverZoomApplicability(m,h)}}var H,D,E,G,x,J,O=navigator.userAgent.match(/msie|trident/i);return function(b,a,d,e){H=this;D=b;E=a;h.refToModel=E;G=e;H.render=function(a,b,d,k,g,e){J=d;x&&(x.destroy(),x=void 0)};H.update=function(a){};G.register("loadMagnifier",g);G.register("resize",g)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(e,m,n,b){function h(d,e,h){d=
(d=h?h:n.getColorFromState(e.getState().hovered_variations,q))&&""!==d?d:q.defaultColor;g.dispatch("updateView",{type:"swatchHover",data:{color:d}});b.postCountMetric("swatchHover")}function I(e,h,m,w){e=(e=w?w:n.getColorFromState(h.getState().selected_variations,q))&&""!==e?e:q.defaultColor;e===d.getCurrentItem().color?"function"===typeof m&&m():(g.dispatch("updateSelection",{type:"swatchClick",data:{color:e},onload:m}),b.postCountMetric("swatchClick"))}var w,q,d,g;return function(b,m,n,G){w=this;
q=b;d=m;g=G;e.on("image-block-twister-swatch-hover",h);e.on("image-block-twister-swatch-click",I);w.render=function(b,d,e,g,a){};w.update=function(b){}}});"use strict";F.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(e,m,n,b,h,I,w){function q(c,f,d,l){!a.autoplayVideo||z||a.useChromelessVideoPlayer?!b.isjQueryObjDefined(c.find(".a-button-selected"))&&(d=A.getCurrentItem(),!l||a.prioritizeVideos||"chromeless-video"===
d.type&&a.autoplayVideo)&&(l=b.getVideoHash(d.color,0,a),-1!==l&&(f+=0,t.dispatch("updateModel",{data:{index:0,thumbnailIndex:f,variant:l.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),f=c.find(".item").get(f),b.selectGivenThumbnail(m(f),c))):(b.selectGivenThumbnail(c.find("img:last"),c),b.fadeToThumbnail(c.find("img").length-1,k,c))}function d(c){var f=A.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[f]){var d=function(){if(c){a.colorToVideo[f]=c;var b=
{type:"updatedData",data:A.getCurrentItem()};t.dispatch("updateView",b)}};a.lazyLoadExperienceDisabled?d():F.when(b.rankedImagesReadyEvent(a.colorToAsin[f].asin)).execute(function(){d()})}}function g(c){if(!a.useChildVideos)return b.lazyLoadingRequired(A.getCurrentItem(),A,a)?void 0:a.videos;if(a.colorToVideo[c])return a.colorToVideo[c];var f=a.colorToAsin[c];if(f&&f.asin){var l={};l.params={asin:f.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,
isUDP:a.isUDP};a.isDPXFeatureEnabled||(l.success=function(b){d(b)},h.load("/gp/product/features/apparel-main-image/videos.html",l));return a.colorToVideo&&a.colorToVideo[c]}}function H(){t.dispatch("selectThumbnail",b.useTabbedImmersiveView(a)?1:0)}function D(c,a,f,d){return n.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:c[0],streamingUrls:a.url,swfUrl:f.swfUrl,foresterMetadataParams:f.foresterMetadataParams,backgroundColor:"transparent",flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},
bindings:{canplay:function(){var a=b.isjQueryObjDefined(c.find("video"))?"HTML5":"FLASH";I.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){c.parent().css("z-index",8)},videounsupported:function(){H();I.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){H();I.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){u.seek(0)}},cuePoints:[{values:a.durationSeconds-1,type:"position",callback:function(a,b,f){a=f.durationSeconds-f.playheadTimeSeconds;c.parent().css("background-color",
"white").find(".airy-renderer-container").fadeTo(1E3*a,.1,function(){c.parent().css({"background-color":"transparent","z-index":-1});H();m(this).show().css("opacity",1)})}}]})}function E(d){if("chromeful-video"===d.type||"chromeless-video"===d.type){var l=b.getVideoHash(d.color,d.index,a);if(-1===l)return-1;if("chromeful-video"===d.type){d=k.width()/k.height();var g=parseInt(l.videoWidth,10),t=parseInt(l.videoHeight,10);b.updateAspectRatio(d,g,t,p);u?(u.show(),b.loadMediaIntoAiry(u,l,c,a.tabletWeb)):
u=a.tabletWeb?r:b.createAiryInstanceForChromeful(p,l,c,null,a.autoplayVideo,k,y,M);b:if(b.useTabbedImmersiveView(a)){if(1<b.getVideosCount(A.getCurrentItem().color,a)){if(b.isDefined(L)){y.show();break b}L=m('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);y.find("#videoCaption").append(L);e.declarative.create(L,"videoIngressClick",f)}b.playVideoInImmersiveView(a,A.getCurrentItem().color)&&(e.declarative.create(p,"videoIngressClick",f),p.children().css("z-index",
"-1"),p.css("display","inline-block"))}else y.find("#videoCaption").text(a.staticStrings.playVideo),y.show();l=u;a.autoplayVideo&&l&&!z&&(b.toggleVideoCaption(y),l.setVolume(0),l.show(),l.play(),z=!0)}else u?(u.show(),b.loadMediaIntoAiry(u,l,c,a.tabletWeb),u.play(),y.show()):(u=D(p,l,c))&&u.play()}}function G(c,d,l){var e=g(d);d=c;b.isDefined(e)&&0<e.length&&a.alwaysIncludeVideo&&c===a.maxAlts&&(M.find(".item:last").remove(),c--);b.isDefined(e)&&(m.each(e,function(d,l){if(c<a.maxAlts){var g=a.useChromelessVideoPlayer?
"chromeless-video":"chromeful-video",k={type:g,index:d,thumbnailIndex:c,variant:l.variant};f={type:"video-ingress",index:d,thumbnailIndex:c,variant:l.variant};b.useTabbedImmersiveView(a)&&("chromeful-video"===g&&(K+=" videoBlockIngress  videoBlockDarkIngress",l.thumb=l.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(K+=" a-align-top"));b.createThumbnail(k,l.thumb,M,K);if(b.useTabbedImmersiveView(a)){x(M.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL);var k=1<e.length?
"multiple-videos":"one-video",p=1<e.length?e.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo;p&&M.find(".videoBlockIngress").append(M.find("#videoCount_template").clone().text(p).attr("id","videoCount")).addClass(k)}B||(B=!0,I.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));c++}if(b.useTabbedImmersiveView(a))return!1}),q(M,d,c,l));return c}function x(c,a){var b=c.attr("src");if(b&&a){c.attr("src",a);var f=new Image;f.onload=
function(a){c.attr("src",b)};f.src=b}}function J(c){u&&u.pause();c.data=f;c.clickTimeStamp=c.$event.timeStamp;var a="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";t.dispatch("imageClick",c);I.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);I.postCountMetric(a)}function O(c){r=c.airy;r.hide=function(){r.pause();e.$("#main-video-container").find(".vse-airy-container").hide()};r.show=function(){e.$("#main-video-container").find(".vse-airy-container").show();r.play()};
r.getMediaSourceInfo=function(){return b.getMediaSourceInfo()}}var N,a,A,t,M,p,y,k,L,u,c,f,l,r,B=!1,z=!1,K="videoThumbnail";return function(g,r,h,n){N=this;a=g;A=r;t=n;c=a.airyConfig;a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;N.render=function(c,f,d,g,t,r){M=g;p=t.find("#main-video-container");y=p.parent().find("#video-canvas-caption");k=m("#main-image-container");a.useChromelessVideoPlayer||p.addClass("chromeful-container");l=G(f,c,r);E(A.getCurrentItem());
b.useTabbedImmersiveView(a)&&e.declarative("videoIngressClick",["click"],J);c=A.getCurrentItem().color;f=b.getVideoHash(c,0,a);-1!==f&&a.tabletWeb&&(c=b.getNilgiriServiceAjaxRequest(a,c,f),w.get(e,"#main-video-container",c,function(){e.$("#main-video-container").find(".vse-airy-container").hide()},function(){e.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return l};N.update=function(c){var d=c.data;"ingress"!==d.type&&u&&(u.hide(),p.parent().css("z-index",-1),y.hide());if("swatchHover"===
c.type)d.color===A.getCurrentItem().color?E(A.getCurrentItem()):c.captured||b.lazyLoadingRequired(d,A,a)&&!b.lazyLoadOnHoverEnabled(a)&&E(A.getCurrentItem());else if("chromeful-video"===d.type||"chromeless-video"===d.type)"mouseenter"===c.type&&I.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+l),E(d),a.usePeekHover&&"click"!==c.type||(b.selectGivenThumbnail(c.$declarativeParent,M),"click"===c.type&&b.useTabbedImmersiveView(a)&&(I.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+
1)+"_"+l),f.action="videoIngressClick",f.clickTimeStamp=c.$event.timeStamp,t.dispatch("videoIngressClick",f),I.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp)))};if(a.isDPXFeatureEnabled)e.on("triggerVideoAjax",d);e.on("vseAiry",O)}});"use strict";F.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,m,n,b,h,I,w,q,d,g){function H(c){return c.hiRes||
c.large||c.main[c.main.length-1]}function D(){v.find("#ivTitle").click(function(){ka.hide()})}function E(){P=Pa?{type:"360-spin"}:R.getCurrentItem()}function G(){var c=v.find("#ivStage"),a=ka.$container.find(".a-popover-wrapper"),b=a.find(".a-popover-inner"),a=a.height()-g.getDimension(b,"padding-top")-g.getDimension(b,"padding-bottom");v.css("height",a);var b=v.find("#ivTitle").outerHeight(!0),f=v.find("#ivVariationSelection").outerHeight(!0),d=v.find("#ivMediaSelection").outerHeight(!0),l=v.find("#ivThumbs"),
e=g.getDimension(l,"margin-top")+g.getDimension(l,"margin-bottom");l.css("height",a-b-f-d-e);v.find("#ivLargeImage").css("height",a);c.css("width",v.width()-g.getDimension(v,"padding-left")-g.getDimension(v,"padding-right")-v.find("#ivThumbColumn").width()-g.getDimension(c,"margin-left")-g.getDimension(c,"margin-right"))}function x(){v.find("#ivMediaSelect").change(function(){var c=b(this).val();"all"===c?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").show(),"chromeful-video"===
P.type&&v.find("#ivVideo_"+P.index).click()):"images"===c?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").hide(),"chromeful-video"===P.type&&(0===ca&&0===X?v.find("#iv360").click():0===ca?v.find("#ivHeroImage_0").click():v.find("#ivImage_0").click())):"videos"===c&&(v.find("#ivVideoList").show(),v.find("#ivThumbs").hide(),"chromeful-video"!==P.type?v.find("#ivVideoList_0").click():v.find("#ivVideoList_"+P.index).click())})}function J(){var c=v.find("#ivStage").find("#ivLargeImage"),
a=c.width(),b=c.height(),f=c.find(".fullscreen");f.removeAttr("style");var d=f.width(),l=f.height();0<f.length&&(f[0].naturalWidth&&(d=f[0].naturalWidth),f[0].naturalHeight&&(l=f[0].naturalHeight));c.css("cursor","auto");var d=0===d?1:d,l=0===l?1:l,e=Math.min(a/d,b/l),g=l*e,k=d*e;1>e?(Qa?c.css("cursor","url('"+C.staticImages.zoomIn+"'), auto"):(c.css("cursor","-webkit-zoom-in"),c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in")),Ba=!0):Ba=!1;d=Math.min(k,d);l=Math.min(g-20,l);f.css({"margin-top":(b-
l)/2,"margin-left":(a-d)/2,height:l,width:d});c.css("visibility","visible");Ca=!1}function O(c){var a=v.find("#ivLargeImage");a.css("visibility","hidden");a.empty();g.animateStageIn(a);a.append(c);J()}function N(){Y&&Y.pause();v.find("#ivLarge360").css("display","none");v.find("#ivLargeVideo").css("display","none");v.find("#ivLargeImage").css("display","none");k()}function a(c){N();v.find("#ivLargeImage").css("display","block");var a;"hero-image"===c?h.isDefined(da)&&(a=H(da[P.index])):h.isDefined(na)&&
(a=H(na[P.index]));if(h.isDefined(a)){v.find(".fullscreen").remove();var f=b("\x3cimg\x3e").attr("src",a).addClass("fullscreen"),d=v.find("#ivLargeImage");g.animateStageOut(d,function(){f.load(function(){O(f)});if(f[0].complete)O(f);else{d.empty();var c=(d.height()-104)/2,a=(d.width()-80)/2;b("\x3cimg\x3e").attr("src",C.staticImages.spinner).css({position:"relative",top:c+"px",left:a+"px"}).appendTo(d)}})}}function A(){var c=parseInt(P.index,10)+1;c>=oa.length||v.find("#ivVideo_"+c).click()}function t(){var c;
h.isDefined(oa)&&(c=oa[P.index]);if(h.isDefined(c)){N();var a=v.find("#ivLargeVideo").css("display","block");Y?(Y.isDetached()&&Y.attach(a[0]),h.loadMediaIntoAiry(Y,c,ya,C.tabletWeb),Y.show()):(Y=h.createAiryInstanceForChromeful(a,c,ya,"ImmersiveView"),ya.enableContinuousPlay&&Y.bind("ended",A));Y.play({isAsync:!0})}}function M(){E();var c;c="hero-image"===P.type?v.find("#ivHeroImage_"+P.index):"image"===P.type?v.find("#ivImage_"+P.index):"chromeful-video"===P.type||"chromeless-video"===P.type?v.find("#ivVideo_"+
P.index):"360-spin"===P.type?v.find("#iv360"):h.isDefined(da)?v.find("#ivHeroImage_"+P.index):v.find("#ivImage_"+P.index);h.isjQueryObjDefined(c)||(c=v.find("#ivImage_0"));p(c)}function p(c){v.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")?(P.type="chromeful-video",P.index=c.attr("id").split("_")[1],t()):c.hasClass("ivHeroImage")?(P.type="hero-image",P.index=c.attr("id").split("_")[1],a(P.type)):c.hasClass("iv360Image")?(P.type="360-spin",P.index=0,y()):
(P.type="image",P.index=c.attr("id").split("_")[1],a(P.type))}function y(){N();v.find("#ivLarge360").css("display","block");l();var c=v.find("#ivLarge360");c.css({opacity:0});setTimeout(function(){c.css({opacity:.4});g.animateStageIn(c)},200);u();w.postCountMetric("dppc_click360");ua=Date.now()}function k(){0<ua&&(L("dppc_duration360",Date.now()-ua),ua=0)}function L(c,a){B.ue&&B.ue.count(c,a)}function u(){if(0<ra){var c=v.find(".iv360Hint");c.removeClass("iv360HintFaded");c.animate({opacity:1},200)}}
function c(a,f){if(ra<a.length){var d=b("\x3cimg /\x3e").css({display:"block",width:6*pa+"px",height:va+"px"});d.hide();f.append(d);d.get(0).onload=function(){f.closest(document.documentElement).length&&(ra++,1===ra&&(u(),0<ua&&L("dppc_loadTime360",Date.now()-ua)),0<Ia&&L("dppc_perSpriteloadTime360",Date.now()-Ia),v.find("#iv360Spinner").hide(),d.show(),za=5*T.imageLocations[Math.floor(Aa/T.imageLocations[0].length)][Aa%T.imageLocations[0].length],c(a,f))};d.attr("src",a[ra].replace(/(\._SP)\d+(,)\d+/,
"$1"+wa+"$2"+xa));Ia=Date.now()}}function f(c){if(h.isDefined(T.spriteWidthSizes)&&0<T.spriteWidthSizes.length){var a=T.spriteWidthSizes,b=a.length,f=a[0],d=a[b-1];if(c<=f)return f;if(c>d)return d;for(f=0;f<b;f++)if(c>a[f]&&c<=a[f+1])return a[f+1]}else return c}function l(){var c=v.find("#ivLarge360");c.children("#image-360-sprites").length||(c.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),c.css({"margin-left":0,"margin-top":0,width:c.parent().width(),height:c.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",C.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(c),Ja=!0,r())}function r(){if(h.isDefined(T.spriteURLs)&&h.isDefined(v)&&Ja&&!Ka){var a=v.find("#ivLarge360"),d=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});h.isDefined(T.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",T.staticImages.hint360).appendTo(d);b("\x3cdiv\x3e").css({"text-align":"center"}).text(C.staticStrings.dragToSpin).appendTo(d);d.appendTo(a);var d=T.imageWidth,l=T.imageHeight,e=a.parent().width(),g=a.parent().height(),k=0,p=0;d/l>e/g?(wa=f(e),xa=Math.round(l/d*wa),pa=Math.ceil(e),va=Math.ceil(xa/wa*e),p=(g-va)/2):(xa=f(g),wa=Math.round(d/l*xa),va=Math.ceil(g),
pa=Math.ceil(wa/xa*g),k=(e-pa)/2);a.css({"margin-left":k,"margin-top":p,width:pa+"px",height:va+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*pa+"px");c(T.spriteURLs,v.find("#image-360-sprites"),0);d=v.find("#ivLarge360");d.bind("mousedown",F);d.bind("touchstart",ga);d.bind("touchmove",z);d.bind("touchend",K);b(document).bind("mousemove",Q);b(document).bind("mouseup",Z);h.isDefined(C.staticImages.grab)&&a.css("cursor","url('"+C.staticImages.grab+"'), auto");
Ka=!0}}function ga(c){Da=!0;La=c.originalEvent.targetTouches[0].clientX}function z(c){Da&&(S(c.originalEvent.targetTouches[0].clientX-La),La=c.originalEvent.targetTouches[0].clientX)}function K(c){Da&&(Da=!1)}function F(c){Ea=!0;Ma=c.originalEvent.clientX;h.isDefined(C.staticImages.grabbing)&&(c=v.find("#ivLarge360"),c.css("cursor","url('"+C.staticImages.grabbing+"'), auto"),c.parents(".a-declarative").last().css("cursor","url('"+C.staticImages.grabbing+"'), auto"));return!1}function Q(c){Ea&&(S(c.originalEvent.clientX-
Ma),Ma=c.originalEvent.clientX)}function Z(c){Ea&&(Ea=!1,h.isDefined(C.staticImages.grab)&&(c=v.find("#ivLarge360"),c.css("cursor","url('"+C.staticImages.grab+"'), auto"),c.parents(".a-declarative").last().css("cursor","auto")))}function S(c){for(c=za-=c/pa*180;0>c;)c+=360;for(;360<c;)c-=360;za=c;var a;c=360;for(var b=0;b<ra;b++)for(var f=0;f<T.imageLocations[b].length;f++){var d=Math.abs(za-5*T.imageLocations[b][f]);d<c&&(c=d,a=b*T.imageLocations[0].length+f)}a!==Aa&&(c=Math.floor(a/T.imageLocations[0].length),
c!==Math.floor(Aa/T.imageLocations[0].length)&&(h.isDefined(Na)||(Na=document.createElement("canvas").getContext("2d")),b=v.find("#image-360-sprites").children(),Na.drawImage(b[c],0,0)),c=v.find(".iv360Hint").not(".iv360HintFaded"),h.isDefined(c)&&(c.addClass("iv360HintFaded"),c.animate({opacity:0},750)));Aa=a;c=a%T.imageLocations[0].length*-1*pa;a=-1*Math.floor(a/T.imageLocations[0].length)*va;b=v.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+c+"px, "+
a+"px, 0)");b.css("transform","translate3d("+c+"px, "+a+"px, 0)")}function V(){v.delegate(".ivThumb","click",function(){var c=b(this);p(c)});v.delegate(".ivThumbVideoListOuter","click",function(){v.find(".ivThumbVideoListOuter").removeClass("selected");var c=b(this);c.addClass("selected");P.type="chromeful-video";P.index=c.attr("id").split("_")[1];t()})}function ha(){Y&&!Y.isDetached()&&(ya.volume=Y.getVolume(),Y.detach(),!document.all||B.atob||document.addEventListener||(Y=null));v.find("#ivLargeImage").empty();
k()}function ja(c,a){return 0<a?a/2:Math.min(0,Math.max(a,c))}function ia(c){var a=sa.left-(c.pageX-Fa[0])*Ga;e.capabilities.rtl&&(a=sa.left-(b(B).width()-c.pageX-Fa[0])*Ga);c=sa.top-(c.pageY-Fa[1])*Ga;a=ja(a,Ha.left);c=ja(c,Ha.top);v.find(".fullscreen").css({left:a,top:c})}function fa(){v.delegate("#ivLargeImage","click",function(c){if(Ca)J();else if(Ba){v.find(".fullscreen").removeAttr("style");if(Ba){var a=v.find("#ivLargeImage"),b=a.find(".fullscreen");Qa?a.css("cursor","url('"+C.staticImages.zoomOut+
"'), auto"):(a.css("cursor","-webkit-zoom-out"),a.css("cursor","-moz-zoom-out"),a.css("cursor","zoom-out"));Ca=!0;var f=v.find("#ivLargeImage");Ha.left=f.width()-b.width();Ha.top=f.height()-b.height();var f=a.height()/2,d=a.width()/2;Fa=[a.offset().left+d,a.offset().top+f];sa.top=f-b.height()/2;sa.left=d-b.width()/2;b.css({position:"relative",left:sa.left,top:sa.top});Ga=Math.max(b.height()/a.height(),b.width()/a.width())}ia(c)}});v.delegate("#ivLargeImage","mousemove",function(c){Ca&&ia(c)})}function aa(c){if(h.isImmersiveViewEnabled(C,
R.getCurrentItem().color)){Pa=h.isDefined(c)&&"button-360-click"===c.action;q.isEnabled&&d.logImmersiveViewRequestServed(q);w.postCountMetric("dppc_immersiveViewOpened");if(h.isDefined(ka))ka.show();else{c=b("#auiImmersiveViewDiv");var a=b(B).height()-150,f=b(B).width()-75;ka=m.create(c,{name:"immersiveView",activate:"onclick",width:f,height:a,popoverLabel:"ImmersiveView",hideHeader:!0});c.click()}if(Oa){v=b("#ivMain");c=R.getCurrentItem().color;na=C.colorImages[c];da=C.heroImage[c];oa=C.useChildVideos?
C.colorToVideo[c]:C.videos;ta=W()&&C.spin360ColorEnabled[c];T=W()?C.spin360ColorData[c]:void 0;E();la=X=qa=ca=0;h.isDefined(da)&&(X=da.length);h.isDefined(na)&&(ca=na.length);h.isDefined(oa)&&(qa=oa.length);ta&&(la=1);g.populateTitle(v.find("#ivTitle"),45,C);g.populateVariationSelection(v.find("#ivVariationSelection"));c=v.find("#ivMediaSelect");0===ca+la||0===qa?(c.parent().hide(),v.find("#ivThumbs").addClass("noMediaSelection")):(c.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(C.staticStrings.allMedia+" ("+(X+ca+la+qa)+")").appendTo(c),b("\x3coption/\x3e").attr("value","images").text(C.staticStrings.images+" ("+(X+ca+la)+")").appendTo(c),b("\x3coption/\x3e").attr("value","videos").text(C.staticStrings.videos+" ("+qa+")").appendTo(c),c.parent().show(),c.val("all"));c=v.find("#ivThumbs");c.find(".ivRow").not(".placeholder").remove();for(var a=X+ca+qa+la,l=f=0;f<a;)for(var k=c.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(c),p=0;3>p&&f<a;p++,
f++,l++)if(l<X){var t=da[f].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(k);r.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(t)+'") center no-repeat')}else if(l>=X&&l<ca+X)t=na[f-X].thumb,r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-X)).appendTo(k),r.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(t)+'") center no-repeat');
else if(l>=X+ca&&l<ca+X+la)r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),r.find(".ivThumbImage").css("background",'url("'+(h.isDefined(C.staticImages.icon360)?g.getResizedThumbnailURL(C.staticImages.icon360,!0):"")+'") center no-repeat');else if(t=oa[f-ca-X-la],r=c.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-ca-X-la)).appendTo(k),r.find(".ivThumbImage").css("background",
'url("'+t.thumbUrl+'") center no-repeat'),h.isDefined(t)){var y={position:"triggerTop"},n=v.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");n.find(".ivVideoPopoverTitle").text(t.title);n.find(".ivVideoPopoverDuration").text(t.durationTimestamp);y.inlineContent=n[0];e.declarative.create(r,"a-tooltip",y)}c=v.find("#ivVideoList");c.find(".ivThumbVideoListOuter").not(".placeholder").remove();a=c.find(".placeholder");for(f=0;f<qa;f++)l=oa[f],k=a.clone().removeClass("placeholder").appendTo(c),
k.attr("id","ivVideoList_"+f),k.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(l.title),k.find(".ivThumbDuration").text(l.durationTimestamp);v.find("#ivLarge360").empty();ra=0;Ka=Ja=!1;ya=C.airyConfig;Oa=!1;Ra()}}}function ma(c){var a=C.colorToAsin[c],b={},f=500;if(a&&a.asin){b.params={asin:a.asin};var d="360"+a.asin,l=Date.now();b.success=function(a){L("dppc_asyncRequestTime360",Date.now()-l);a&&h.isDefined(a.spin360.spin360Model)?(h.ajaxState(d,
"success"),C.spin360ColorData[c]=a.spin360.spin360Model,c===R.getCurrentItem().color&&(T=C.spin360ColorData[c],r())):b.error()};b.error=function(){w.postCountMetric("dppc_asyncFailed360");L("dppc_asyncRequestTime360",Date.now()-l);f*=2;16E3>=f?setTimeout(function(){l=Date.now();I.load("/gp/product/features/apparel-main-image/360.html",b)},f):h.ajaxState(d,"fail")};h.ajaxState(d)&&"fail"!==h.ajaxState(d)||(I.load("/gp/product/features/apparel-main-image/360.html",b),h.ajaxState(d,"sent"))}}function W(){return h.isDefined(C.spin360ConfigEnabled)&&
C.spin360ConfigEnabled}var ea,C,R,ba,ka,v,da,na,oa,X,ca,qa,la,P,Y,ya,T,ta,pa,va,xa,wa,Ma,La,Pa=!1,Ja=!1,Ka=!1,za=0,Aa=0,ua=0,Ia=0,Ea=!1,Da=!1,ra=0,Na,Qa=navigator.userAgent.match(/msie|trident/i),Oa=!0,Ca=!1,Ba=!1,Ha={},sa={},Ga,Fa,Ra=e.once(function(){x();V();fa();e.on("a:popover:afterUpdatePosition:immersiveView",G);e.on("a:popover:afterShow:immersiveView",M);e.on("a:popover:afterHide:immersiveView",ha);D()});return function(c,a,f,d){ea=this;C=c;R=a;q.refToModel=R;ba=d;W()&&(C.spin360ColorData[C.landingAsinColor]=
C.spin360ColorData[C.defaultColor],C.spin360ColorEnabled[C.landingAsinColor]=C.spin360ColorEnabled[C.defaultColor]);h.isDefined(C.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",g.addStyleCodeToURL(C.staticImages.icon360,"_FMpng_RI_"));ea.render=function(c,a,b,f,d,l){Oa=!0;W()&&C.spin360ColorEnabled[c]&&!h.isDefined(C.spin360ColorData[c])&&(C.spin360ColorData[c]={},ma(c));h.isImmersiveViewEnabled(C,R.getCurrentItem().color)&&W()&&C.spin360ColorEnabled[c]&&
(a===C.maxAlts&&(c=f.find(".item.imageThumbnail"),b=f.find(".item.videoThumbnail"),h.isDefined(b)&&1<b.length?b.last().remove():c.last().remove(),a--),c=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(c,"button-360-click"),f.append(c),a++,w.postCountMetric("dppc_display360"));return a};ea.update=function(c){};ba.register("imageClick",aa);ba.register("button360Click",aa)}});"use strict";F.when("A","a-modal","a-tooltip",
"jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,m,n,b,h,I,w,q,d,g){function H(){var d=J.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),t=d.find(".a-popover-inner"),d=d.height()-g.getDimension(t,"padding-top")-g.getDimension(t,"padding-bottom");b("#iv-tab-view-container").css("height",d);a=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==
b(this).css("display")}).length;1<a?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),t=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),d-=t):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",d);e.trigger("dp:image-block:immersive-view:resize")}function D(){e.trigger("dp:image-block:immersive-view:reset")}function E(a){if(h.isImmersiveViewEnabled(x,J.getCurrentItem().color)){q.isEnabled&&d.logImmersiveViewRequestServed(q);
w.postCountMetric("dppc_immersiveViewOpened");h.isDefined(a)&&("button-360-click"===a.action?b("#iv360TabHeading").click():"videoIngressClick"===a.action?(A=a.clickTimeStamp,b("#ivVideosTabHeading").click()):b("#ivImagesTabHeading").click());var g=J.getImmersiveViewModalInstance();if(h.isDefined(g))g.show();else{a=b("#auiImmersiveViewDiv");var g=Math.min(Math.max(b(B).height()-150,540),1080),k=Math.min(Math.max(b(B).width()-75,990),1980),g=m.create(a,{name:"immersiveView",activate:"onclick",width:k,
height:g,popoverLabel:"ImmersiveView",hideHeader:!0});J.setImmersiveViewModalInstance(g);a.click()}N&&(N=!1,t(),e.trigger("dp:image-block:immersive-view:init"))}}var G,x,J,O,N=!0,a=0,A,t=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",H);e.on("a:popover:afterShow:immersiveView",H);e.on("a:popover:afterHide:immersiveView",D)}),M=e.once(function(){var a=b("#iv-tab-view-container ul.iv-tab-views li");a.bind("click",function(d){var g=a.filter(".iv-active");g.attr("id")!==b(this).attr("id")&&
e.trigger("dp:ivTabs:"+g.find("a").attr("data-iv-tab-view")+":deselect",d);a.removeClass("iv-active");b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();g=b(this).find("a").attr("data-iv-tab-view");b("#"+g).show();"ivVideosTab"===g&&(d.clickTimeStamp=A||d.timeStamp);e.trigger("dp:ivTabs:"+g+":select",d);w.postCountMetric("dppc_"+g);return!1})});return function(a,b,d,g){G=this;x=a;J=b;q.refToModel=J;O=g;G.render=function(a,c,b,d,g,e){w.postCountMetric("dpcc_altThumbs_"+
c);N=!0};G.update=function(a){};G.getTitle=function(){};G.getVariationSelectionInfo=function(){};M();O.register("imageClick",E);O.register("button360Click",E);h.useTabbedImmersiveView(x)&&O.register("videoIngressClick",E)}});"use strict";F.when("A","jQuery","imageBlockUtils").register("ImageBlockLoader",function(e,m,n){return{load:function(b,h){h=h||{};h.timeout=h.timeout||4E3;e.ajax(b,h)}}});"use strict";F.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric",
"postEarlyMetric").register("imageBlockUtils",function(e,m,n,b,h,I,w,q){function d(c){return null!==c&&"undefined"!==typeof c}function g(c){var a=0;m.each(c,function(c,b){var d=parseInt(b[1],10);d>a&&(a=d)});return a}function H(c){var a=0;m.each(c,function(c,b){var d=parseInt(b[0],10);d>a&&(a=d)});return a}function D(c,a,b){a=a.width();if(b.naturalMainImageSize)return a;c=g(c);0<c&&(a=Math.min(a,c));return a}function E(c,a,b){a=a.height();if(b.naturalMainImageSize)return a;c=H(c);0<c&&(a=Math.min(a,
c));return a}function G(c){var a;m.each(c,function(c,b){d(a)||(a=b[1]/b[0])});return a||1}function x(c,a,b){a.fadeTo(500,0,function(){O(c,b);a.fadeTo(500,1)})}function J(c){c&&c.toggle()}function O(c,a){var b=a.find("img");d(b[c])&&m(b[c]).click()}function N(c,a){u[c]=a?a:u[c];return u[c]}function a(c,a,b){b=b||L;b=b.colorImages;if(1>b.length||!d(b[c])||!d(a))return-1;var g=-1;m.each(b[c],function(c,b){b.variant===a&&(g=c)});return g}function A(c,a,b){b=b||L;b=b.colorImages;return!(d(b)&&d(b[c])&&
d(b[c][a])&&d(b[c][a].main))||1>m.map(b[c][a].main,function(c,a){return a}).length?-1:b[c][a]}function t(c,a,b,d){d.parent().css("z-index",2);0!==b&&0!==a&&(a/=b,c>a?d.css("width",a/c*100+"%"):d.css("height",c/a*100+"%"))}function M(c,a){var b;if(b=c.useIV)b=c.colorImages&&c.colorImages[a]&&0<c.colorImages[a].length?!0:!1;w.isEnabled&&(w.IVApplicaple=b,q.logImmersiveViewApplicability(m,w));return b}var p,y,k,L=m.extend(!0,{},h,I),u={};return{isDefined:d,isDefinedAndEmpty:function(c){return d(c)&&
"object"===typeof c&&0===Object.keys(c).length},isUndefinedOrEmpty:function(c){return d(c)?"object"===typeof c&&0===Object.keys(c).length:!0},isDefinedAndNotEmpty:function(c){return d(c)?"object"===typeof c&&0<Object.keys(c).length:!1},isjQueryObjDefined:function(c){return 0!==c.length},getAspectRatio:G,getMaxHeightOfMainImage:E,getMaxWidthOfMainImage:D,getMaxDimensionsOfMainImage:function(c,a,b){if(b.acEnabled)return[a.height(),a.width()];var d=E(c,a,b);a=D(c,a,b);c=G(c);b=a/c;a=Math.min(a,d*c);
d=Math.min(d,b);return[d,a]},getContainerHeight:function(c,a,b){var g=c.get(0);c=0;if(d(g)){c=g.offsetWidth/a;c=Math.min(c,b);var e;a=L.mainImageHeightPartitions;b=L.mainImageMaxSizes;if(d(b)&&d(a)){for(var k=0,t=B.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,g=0;g<a.length;g++)t>a[g]&&(k=g+1);b.length>=k&&(e=b[k])}d(e)&&(c=Math.min(e[1],c))}return c},getColorFromState:function(c,a){if(c){a=a||L;var b="";m.each(a.visualDimensions,function(a,d){c[d]&&(b+=" "+c[d])});
return b&&b.substring(1)}},createThumbnail:function(c,a,b,g){var k=b.find(".template").clone().removeClass("template").addClass("item"),t=document.createElement("img");t.src=a;k.find(".placeHolder").replaceWith(t);(a=c.heroVideoVariant)&&"hero-image"===c.type&&c.variant===a&&k.addClass("heroImageThumbnail");d(g)&&k.addClass(g);e.declarative.create(k,"thumb-action",c);b.append(k)},selectGivenThumbnail:function(c,a){var b=c.find(".a-button");a.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");
b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(c,a,d,g,e,k,t,h){var q=m.extend({},d.foresterMetadataParams);null!==g&&(q.method+="."+g);var w=[];a.disabledViewIds&&(w=a.disabledViewIds);return n.embed({parentElement:c[0],streamingUrls:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,swfUrl:d.swfUrl,foresterMetadataParams:q,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:a.slateUrl,
postMediaSlate:a.slateUrl},videoAds:d.videoAds,bindings:{play:function(){"ImmersiveView"===g?p||(p=!0,b.postCountMetric("dppc_chromefulVideoPlayedIV")):y||(y=!0,b.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:a.durationSeconds-1,type:"position",callback:function(c,a,b){e&&(x(0,k,h),J(t))}}],disabledViewIds:w})},loadMediaIntoAiry:function(c,a,b,d){c&&c.getMediaSourceInfo()!==a.url&&(d?(k={mediaSourceInfo:[a.url],contentId:a.mediaObjectId,refTag:"vse_ib_tablet_web"},c.loadMedia(k)):
c.loadMedia({mediaSourceInfo:a.url,contentId:a.mediaObjectId,contentMinAge:Number(a.minimumAge||"")||0,contentTitle:a.title,slateImages:{preloadSlate:a.slateUrl,postMediaSlate:a.slateUrl}}))},showUnavailable:function(c){c&&(m("#imageBlock .unvailableVariation").html(c),m("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){m("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:x,toggleVideoCaption:J,selectThumbnail:O,spinner:function(c,a){var b=m("#imageBlock .a-spinner").parent();
0===b.length&&(b=m("\x3cdiv\x3e\x3c/div\x3e").append(m("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),c.append(b),b.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));a?b.show():b.hide();return b},rankedImagesReadyEvent:function(c){return"ranked-images-ready-for-"+
c},ajaxState:N,getIndexForVariant:a,getImageHash:A,lazyLoadingRequired:function(c,b,d){b=Math.max(a(c.color,b.getCurrentItem().variant,d),0);b=-1!==A(c.color,b,d);c=d.colorToAsin[c.color]&&d.colorToAsin[c.color].asin;c=!c||"success"!==N(c);return!d.lazyLoadExperienceDisabled&&!b&&c},lazyLoadOnHoverEnabled:function(c){return!c.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:t,repositionVideoBanner:function(c,a,b,d){setTimeout(function(){var b=c.width()/c.height();t(b,16,9,a)},d||0)},getVideosCount:function(c,
a){return a.useChildVideos&&a.colorToVideo[c]?a.colorToVideo[c].length:a.videos?a.videos.length:0},getVideoHash:function(a,b,g){if(g.useChildVideos){if(!d(g.colorToVideo))return-1;a=g.colorToVideo[a]}else a=g.videos;return d(a)&&d(a[b])&&d(a[b].url)?a[b]:-1},isImmersiveViewEnabled:M,playVideoInImmersiveView:function(a,b){return M(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return d(k)?k.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,
b,g){b=a.colorToAsin[b]&&a.colorToAsin[b].asin;b=d(b)?b:a.mediaAsin;return{pageContext:{page:"DetailPageTablet",placement:"ImageBlock",marketplaceID:g.marketPlaceID,locale:g.languageCode,requestId:a.requestId,product:{contentID:b,contentIDType:"ASIN"},video:{contentID:g.mediaObjectId,contentIDType:"ASIN",imageURL:g.slateUrl,videoURL:g.url}},configuration:{id:"div-light-player",type:"lightplayer",binder:"lightplayer",assets:["VSECommonComponentAssets","Brila"],features:{features:{placementcontext:"vse_ib_tablet_web"}}}}}}});
"use strict";F.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils","postMetric").register("ImageBlockHeroImageView",function(e,m,n,b,h){function I(a,d,g,e){if(!n.isjQueryObjDefined(a.find(".a-button-selected"))){var k=J.getCurrentItem();if(!e||"chromeless-video"!==k.type||!x.autoplayVideo){e=0;if("hero-image"===k.type){e=q(k.color,k.variant);if(-1===e)return;e=-1!==e?e:0}var h=d+e;h>=g&&(e=0,h=d);d=b.getHeroImageHash(x,k.color,e);-1!==d&&(O.dispatch("updateModel",{data:{index:e,thumbnailIndex:h,
variant:d.variant,type:"hero-image"}}),d=a.find(".item").get(h),n.selectGivenThumbnail(m(d),a))}}}function w(a,b,d){if("hero-video"===J.getCurrentItem().type)return a;b=x.heroImage&&x.heroImage[b];var g=a;n.isDefined(b)&&(m.each(b,function(b,d){a<x.maxAlts&&(n.createThumbnail({type:"hero-image",index:b,thumbnailIndex:a,variant:d.variant},d.thumb,N,"imageThumbnail"),a++)}),I(N,g,a,d));return a}function q(a,b){var d=x.heroImage;if(1>d.length||!n.isDefined(d[a])||!n.isDefined(b))return-1;var g=-1;m.each(d[a],
function(a,d){d.variant===b&&(g=a)});return g}function d(){if(a.length&&x.repositionHeroImage){var d=b.getHeroDimParams(x,J.getCurrentItem()),g;n.isDefined(d)&&(g=n.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+"px ",a.css({"background-position":g,"background-size":d.width+"px "+d.height+"px ","max-width":d.width+"px ","min-height":d.height+"px ",filter:"","-ms-filter":""}))}}function g(d,g,e,h){if(a.length&&d&&g){if("function"===typeof e||h){var k=new Image;k.onload=h?function(){a.css("background-image",
'url("'+d+'")')}:e;k.src=d}e=g[1];var k=g[0],m;h||a.css({"background-image":'url("'+d+'")'});x.repositionHeroImage&&(g=b.getHeroDimParams(x,J.getCurrentItem(),g),n.isDefined(g)&&(e=g.width,k=g.height,m=n.isDefined(g.xPos)?g.xPos+"px "+g.yPos+"px ":"center "+g.yPos+"px "));a.css({"background-position":m,"background-size":e+"px "+k+"px ","max-width":e+"px ","min-height":k+"px ",filter:"","-ms-filter":""})}}function H(a,d,e,h){a=b.getHeroImageHash(x,a,d);if(-1===a)return-1;d=m.map(a.main,function(a,
b){return b})[0];g(d,a.main[d],e,h)}function D(a,d,g){if("hero-image"!==a.type)return-1;var e=q(a.color,J.getCurrentItem().variant),e=-1!==e?e:0;if(-1===b.getHeroImageHash(x,a.color,e))return-1;var k=J.getCurrentItem();a.thumbnailIndex=k.thumbnailIndex;a.type=k.type;a.variant=k.variant;a.index=e;E(a,d,g)}function E(d,g,h){var m=b.getHeroImageHash(x,d.color,d.index),k;k=d&&A&&e.equals(d,A)?!0:!1;A||(A=d);if(!k&&d||g)H(d.color,d.index,g,h),A=d;a.removeClass("hide-background");e.trigger("dp:image-block:update",
m)}var G,x,J,O,N,a,A={};return function(b,g,e,h){G=this;x=b;J=g;O=h;x.heroImage[x.landingAsinColor]=x.heroImage[x.defaultColor];G.render=function(b,d,g,c,f,e,h){N=c;a=m("#heroImage");b=w(d,b,e);D(J.getCurrentItem(),h,e);return b};G.update=function(b){var d=b.data;"ingress"!==d.type&&a.addClass("hide-background");"swatchHover"===b.type?b.captured||(d.type=J.getCurrentItem().type,-1!==D(d)&&(b.captured=!0)):"hero-image"===d.type&&(E(d),"click"!==b.type&&x.usePeekHover||n.selectGivenThumbnail(b.$declarativeParent,
N))};O.register("resize",d)}});"use strict";F.when("A","jQuery","imageBlockUtils","postMetric","ImageBlockAltImageView").register("ImageBlockAltImageIngressView",function(e,m,n,b,h){var I,w,q,d;return function(b,h,m,E){I=this;w=b;q=E;I.render=function(b,g,h,m,q,a,H){d=m;I=this;h=w.maxAlts;m=g;q=w.colorImages[b]?w.colorImages[b].length:0;q+=n.getVideosCount(b,w);b=w.heroImage[b];a=0;b&&(a=b.length);b=q+a;b>h&&(h=b-h,b=d.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
h+="+",m={type:"ingress",index:0,thumbnailIndex:g,variant:""},b.find("#altIngressText").append(h),e.declarative.create(b,"thumb-action",m),d.append(b),m=g++);return m};I.update=function(b){"ingress"===b.data.type&&"click"===b.type&&q.dispatch("imageClick",b)}}});"use strict";F.when("A","jQuery","imageBlockUtils").register("ImageBlockState",function(e,m,n){return function(b,e,m){this.getImageHash=function(e){var h=m.getCurrentItem();e=n.getIndexForVariant(h.color,e||"MAIN",b);return n.getImageHash(h.color,
e,b)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(e){"swatchClick"===e.type&&"function"===typeof b&&b()})}}});"use strict";F.when("A","jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,m,n){function b(b,e){var d;if(e.repositionHeroImage){d=b[1];var g=b[0];if(768>=(B.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))d*=.7,g*=.7;else{var h=((B.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-
1024)/256,h=Math.max(Math.min(h,1),0);d*=.7+.3*h;g*=.7+.3*h}d=[d,g]}return d}function h(b,e,d){var g;if(d.repositionHeroImage){var h=B.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;d=d.heroFocalPoint;if(n.isDefined(d)){g=Math.max((h-Math.min(1500,b))/2,0);var m=Math.max((h-b)/2,0);g-=m;h=Math.max(Math.min(h,1500),1024);g=g+(h-420-23)/2-b/e[1]*d}}return g}function I(b,e,d){b=b.heroImage;return!(n.isDefined(b)&&n.isDefined(b[e])&&n.isDefined(b[e][d])&&n.isDefined(b[e][d].main))||
1>m.map(b[e][d].main,function(b,d){return d}).length?-1:b[e][d]}return{getHeroImageHash:I,getHeroDimParams:function(e,q,d){if(e.repositionHeroImage){if(!n.isDefined(d)){d=I(e,q.color,q.index);if(-1===d)return;q=m.map(d.main,function(b,d){return d})[0];d=d.main[q]}q=b(d,e);e=h(q[0],d,e);return{height:q[1],width:q[0],xPos:e,yPos:75}}}}});"use strict";F.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,m,n,b,h,
I,w){function q(b,d){var h=e.copy(b);if(w.isDefined(b)&&b.length>d){try{for(var m=-1,n=0;n<b.length;n++){var q=b.charAt(n);if(" "===q||"."===q||"?"===q||";"===q||","===q||":"===q)m=n;if(n===d-4){h=b.substring(0,-1===m?n:m);break}}}catch(J){h=b.substring(0,d-3)}h+="..."}return h}function d(b,d){var e=b.lastIndexOf(".");return b="_"===b.charAt(e-1)?b.substring(0,e-1)+d+b.substring(e):b.substring(0,e)+"."+d+b.substring(e)}return{getDimension:function(b,d){var e=parseInt(b.css(d),10);return isNaN(e)?
0:e},attachTabSelectHandler:function(b,d){e.on("dp:ivTabs:"+b+":select",d)},attachTabDeselectHandler:function(b,d){e.on("dp:ivTabs:"+b+":deselect",d)},attachImmersiveViewResizeHandler:function(b){e.on("dp:image-block:immersive-view:resize",b)},detachImmersiveViewResizeHandler:function(b){e.off("dp:image-block:immersive-view:resize",b)},attachImmersiveViewResetHandler:function(b){e.on("a:popover:afterHide:immersiveView",b)},hideTabHeading:function(b){m("#"+b).hide()},unhideTabHeading:function(b){m("#"+
b).show()},addStyleCodeToURL:d,getResizedThumbnailURL:function(b,e){b=b.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");b=b.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");b=b.replace(/\._CB\d+_SS\d+_/,"");var h="_AA50_";e&&(h+="FMpng_RI_");return d(b,h)},populateVariationSelection:function(b){if(w.isDefined(B.DetailPage)&&w.isDefined(B.DetailPage.StateController)){b.empty();var d=B.DetailPage.StateController.getState(),e=d.variation_label_order,
h;for(h in e)if(e.hasOwnProperty(h)){var n=e[h],q=d.selected_variations[n],n=d.variation_display_labels[n];q&&m("\x3cdiv/\x3e").addClass("ivVariations").text(n+":"+q).appendTo(b)}}},populateTitle:function(b,d,e){b.html(e.title);b.attr("title",b.text());b.html(q(e.title,d))},animateStageIn:function(b){b.animate({opacity:1},200)},animateStageOut:function(b,d){b.animate({opacity:.4},100,d)},logError:function(b,d,e,h){B.ueLogError&&B.ueLogError(h,{logLevel:b,attribution:d,message:e})}}});"use strict";
F.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(e,m,n,b,h,B,w,q){function d(){q.populateTitle(k.find("#ivTitle"),160,p)}function g(){var a=y.getCurrentItem().color;u=p.colorImages[a];L=p.heroImage[a];c=f=0;h.isDefined(L)&&(c=L.length);h.isDefined(u)&&(f=u.length)}function H(a){return a.hiRes||a.large||a.main[a.main.length-1]}function D(){var a=k.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var e=d.width(),f=d.height();0<d.length&&(d[0].naturalWidth&&(e=d[0].naturalWidth),d[0].naturalHeight&&(f=d[0].naturalHeight));a.css("cursor","auto");var e=0===e?1:e,f=0===f?1:f,g=Math.min(b/e,c/f),h=f*g,l=e*g;1>g?(r?a.css("cursor","url('"+p.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),K=!0):K=!1;e=Math.min(l,e);f=Math.min(h-20,f);d.css({"margin-top":(c-
f)/2,"margin-left":(b-e)/2,height:f,width:e});a.css("visibility","visible");z=!1}function E(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();q.animateStageIn(b);b.append(a);D()}function G(a){k.find("#ivLargeImage").css("display","none");k.find("#ivLargeImage").css("display","block");var c;"hero-image"===a?h.isDefined(L)&&(c=H(L[l.index])):h.isDefined(u)&&(c=H(u[l.index]));if(h.isDefined(c)){k.find(".fullscreen").remove();var d=b("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),
e=k.find("#ivLargeImage");q.animateStageOut(e,function(){d.load(function(){E(d)});if(d[0].complete)E(d);else{e.empty();var a=(e.height()-104)/2,c=(e.width()-80)/2;b("\x3cimg\x3e").attr("src",p.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(e)}})}}function x(a){k.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?l.type="hero-image":l.type="image";l.index=a.attr("id").split("_")[1];G(l.type);w.postCountMetric("dpcc_iv_thumbCLick_"+
(parseInt(l.index,10)+1)+"_"+(c+f))}function J(){k.delegate(".ivThumb","click",function(){var a=b(this);x(a)})}function O(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function N(a){var b=Q.top-(a.pageY-S[1])*Z;a=O(Q.left-(a.pageX-S[0])*Z,U.left);b=O(b,U.top);k.find(".fullscreen").css({left:a,top:b})}function a(){k.delegate("#ivLargeImage","click",function(a){if(z)D();else if(K){k.find(".fullscreen").removeAttr("style");if(K){var b=k.find("#ivLargeImage"),c=b.find(".fullscreen");r?b.css("cursor",
"url('"+p.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));z=!0;var d=k.find("#ivLargeImage");U.left=d.width()-c.width();U.top=d.height()-c.height();var d=b.height()/2,e=b.width()/2;S=[b.offset().left+e,b.offset().top+d];Q.top=d-c.height()/2;Q.left=e-c.width()/2;c.css({position:"relative",left:Q.left,top:Q.top});Z=Math.max(c.height()/b.height(),c.width()/b.width())}N(a);w.postCountMetric("dpcc_iv_largeImageCLick")}});
k.delegate("#ivLargeImage","mousemove",function(a){z&&N(a)})}function A(){k.find("#ivLargeImage").empty()}function t(a){if(F){k=b("#ivMain");g();l=y.getCurrentItem();d();q.populateVariationSelection(k.find("#ivVariationSelection"));a=k.find("#ivThumbs");a.find(".ivRow").not(".placeholder").remove();for(var e=c+f,m=0,n=0;m<e;)for(var p=a.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(a),t=0;4>t&&m<e;t++,m++,n++)if(n<c){var r=L[m].thumb,A=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+m).appendTo(p);A.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(r)+'") center no-repeat')}else n>=c&&n<f+c&&(r=u[m-c].thumb,A=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(m-c)).appendTo(p),A.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(r)+'") center no-repeat'));V();F=!1}else d();a=b("#ivImagesTab").height();k.css("height",a);e=k.find("#ivTitle").outerHeight(!0);m=k.find("#ivVariationSelection").outerHeight(!0);
n=k.find("#ivThumbs");p=q.getDimension(n,"margin-top")+q.getDimension(n,"margin-bottom");n.css("height",a-e-m-p);k.find("#ivLargeImage").css("height",a);a=k.find("#ivStage");e=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();a.css("width",e-q.getDimension(k,"padding-left")-q.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-q.getDimension(a,"margin-left")-q.getDimension(a,"margin-right"));l=y.getCurrentItem();a="hero-image"===l.type?k.find("#ivHeroImage_"+
l.index):"image"===l.type?k.find("#ivImage_"+l.index):h.isDefined(L)?k.find("#ivHeroImage_"+l.index):k.find("#ivImage_"+l.index);h.isjQueryObjDefined(a)||(a=k.find("#ivImage_0"));x(a)}var M,p,y,k,L,u,c,f,l,r=navigator.userAgent.match(/msie|trident/i),F=!0,z=!1,K=!1,U={},Q={},Z,S,F=!0,V=e.once(function(){J();a();q.attachImmersiveViewResizeHandler(t);q.attachTabDeselectHandler("ivImagesTab",A)});return function(a,d,e,h){M=this;p=a;y=d;M.render=function(a,d,e,h,l,k){F=!0;g();0===c+f?q.hideTabHeading("ivImagesTabHeading"):
q.unhideTabHeading("ivImagesTabHeading");1===c+f?b("#ivThumbs").hide():b("#ivThumbs").show()};M.update=function(a){};q.attachTabSelectHandler("ivImagesTab",t)}});"use strict";F.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,m,n,b,h,F,w,q,d,g){function H(){p.delegate(".ivThumb","click",function(){var a=b(this);p.find(".ivThumb").removeClass("selected");
a.addClass("selected");a.hasClass("ivThumbVideo")&&(y.type="chromeful-video",y.index=a.attr("id").split("_")[1])})}function D(){var a=b("#ivVideosTab").height();p.css("height",a);var c=p.find(".vse-video-block");L=a-q.getDimension(p,"padding-top")-q.getDimension(p,"padding-bottom");c.css({"max-height":a,overflow:"hidden"});if(ga)p.css({"max-width":Math.floor(1.77*L)});else{var a=p.find(".vse-airy-container"),c=p.find(".vse-ib-metadata"),d=Math.floor(L-q.getDimension(c,"height")),e=Math.floor(1.77*
d);a.css({"max-height":d,"max-width":e});c.css("max-width",e);z&&(a=p.find(".vse-vertical-scroll"),c=q.getDimension(a,"margin-top")+q.getDimension(a,"margin-bottom"),a.css("max-height",L-c))}}function E(){G();k&&k.pause();K=!1;l=!0;f=null}function G(){K=!1;k&&k.pause()}function x(a){f=a.clickTimeStamp;r&&(g.get(e,"#ivVideoBlock",M,S,V),p=b("#ivVideoBlock"),t.getCurrentItem(),y=t.getCurrentItem(),U());D();K=!0;r=!1;N()}function J(a){r&&(p=b("#ivVideoBlock"),t.getCurrentItem(),y=t.getCurrentItem(),
U());K&&N();D()}function O(a){k=a.airy;K&&k.play({isAsync:!0})}function N(){if(k&&(k.play({isAsync:!0,eventTimestamp:f||(new Date).getTime()}),w.postCountMetric("dpcc_vse_videoBlock_video_played"),l)){var a=B.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,w.postTimeMetric("dpcc_vse_vitff",a),l=!1)}}var a,A,t,M,p,y,k,L,u,c,f,l=!0,r=!0,ga=!1,z=!1,K=!1,U=e.once(function(){H();q.attachImmersiveViewResizeHandler(J);q.attachTabDeselectHandler("ivVideosTab",G);q.attachImmersiveViewResetHandler(E)}),
Q=function(a,c,d){b("#ivVideoBlockSpinner").addClass("aok-hidden");w.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+c.placement);a=t.getCurrentItem().color;a=h.getVideoHash(a,0,A);k||(k=h.createAiryInstanceForChromeful(b("#ivVideoBlock"),a,A.airyConfig,"ImmersiveView"));ga=!0;b("#ivVideoBlock").css({"max-width":1.77*L,margin:"0 auto"});K&&ga&&k.play({isAsync:!0})},Z=function(a,c,d){r||g.get(a,"#ivVideoBlock",M,S,V);b("#ivVideoBlockSpinner").addClass("aok-hidden")},S=function(a,b,c){z=!0;D();
K&&N()},V=function(a,b,c){w.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(b,f,g,l){a=this;A=b;t=f;a.render=function(a,b,f,g,l,k){a=t.getCurrentItem().color;b=h.getVideoHash(a,0,A);u=A.colorToAsin[a]&&A.colorToAsin[a].asin;u=h.isDefined(u)?u:A.mediaAsin;c=null!==A.vseVideoDataSourceTreatment&&"T1"===A.vseVideoDataSourceTreatment?"ASIN":"physicalID";r=!0;-1===b?q.hideTabHeading("ivVideosTabHeading"):(q.unhideTabHeading("ivVideosTabHeading"),
M={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,locale:b.languageCode,product:{contentID:u,contentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:c,videoURL:b.url,imageURL:b.slateUrl},requestId:A.dpRequestId,metadata:{ProductTitle:A.title}},d.get(e,"#ivVideoBlock",M,Z,Q))};a.update=function(a){};q.attachTabSelectHandler("ivVideosTab",x);e.on("vseAiry",O)}});"use strict";F.when("A","a-modal","a-tooltip","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView360",function(e,m,n,b,h,B,w,q,d){function g(){var a=b("#iv360Tab").height();z.css("height",a);var c=z.find("#ivTitle360").outerHeight(!0),e=z.find("#ivVariationSelection360").outerHeight(!0),f=z.find("#ivThumbs360"),g=d.getDimension(f,"margin-top")+d.getDimension(f,"margin-bottom");f.css("height",a-c-e-g);a=z.find("#ivStage360");c=z[0]&&z[0].getBoundingClientRect&&Math.floor(z[0].getBoundingClientRect().width)||
z.width();a.css("width",c-d.getDimension(z,"padding-left")-d.getDimension(z,"padding-right")-z.find("#ivThumbColumn360").width()-d.getDimension(a,"margin-left")-d.getDimension(a,"margin-right"))}function F(){x();var a=z.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});d.animateStageIn(a)},200);D()}function D(){if(0<R){var a=z.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function E(a,c){if(R<a.length){var d=b("\x3cimg /\x3e").css({display:"block",
width:6*U+"px",height:Q+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(R++,1===R&&(D(),0<ma&&(w.time("dppc_loadTime360",Date.now()-ma,r.mediaAsin),q.postTimeMetric("dppc_loadTime360",Date.now()-ma))),0<W&&(w.time("dppc_perSpriteloadTime360",Date.now()-W,r.mediaAsin),q.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-W)),z.find("#iv360Spinner").hide(),d.show(),fa=5*K.imageLocations[Math.floor(aa/K.imageLocations[0].length)][aa%K.imageLocations[0].length],
E(a,c))};d.attr("src",a[R].replace(/(\._SP)\d+(,)\d+/,"$1"+S+"$2"+Z));W=Date.now()}}function G(a){if(h.isDefined(K.spriteWidthSizes)&&0<K.spriteWidthSizes.length){var b=K.spriteWidthSizes,c=b.length,d=b[0],e=b[c-1];if(a<=d)return d;if(a>e)return e;for(d=0;d<c;d++)if(a>b[d]&&a<=b[d+1])return b[d+1]}else return a}function x(){var a=z.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),
height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",r.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ja=!0,J())}function J(){if(h.isDefined(K.spriteURLs)&&h.isDefined(z)&&ja&&!ia){var c=z.find("#ivLarge360"),d=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});h.isDefined(K.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",K.staticImages.hint360).appendTo(d);b("\x3cdiv\x3e").css({"text-align":"center"}).text(r.staticStrings.dragToSpin).appendTo(d);d.appendTo(c);var d=K.imageWidth,e=K.imageHeight,f=c.parent().width(),g=c.parent().height(),l=0,k=0;d/e>f/g?(S=G(f),Z=Math.round(e/d*S),U=Math.ceil(f),Q=Math.ceil(Z/S*f),k=(g-Q)/2):(Z=G(g),S=Math.round(d/
e*Z),Q=Math.ceil(g),U=Math.ceil(S/Z*g),l=(f-U)/2);c.css({"margin-left":l,"margin-top":k,width:U+"px",height:Q+"px",overflow:"hidden",position:"relative"});c.children("#image-360-sprites").css("width",6*U+"px");E(K.spriteURLs,z.find("#image-360-sprites"),0);d=z.find("#ivLarge360");d.bind("mousedown",A);d.bind("touchstart",O);d.bind("touchmove",N);d.bind("touchend",a);b(document).bind("mousemove",t);b(document).bind("mouseup",M);h.isDefined(r.staticImages.grab)&&c.css("cursor","url('"+r.staticImages.grab+
"'), auto");ia=!0}}function O(a){C=!0;ha=a.originalEvent.targetTouches[0].clientX}function N(a){C&&(p(a.originalEvent.targetTouches[0].clientX-ha),ha=a.originalEvent.targetTouches[0].clientX)}function a(a){C&&(C=!1)}function A(a){ea=!0;V=a.originalEvent.clientX;h.isDefined(r.staticImages.grabbing)&&(a=z.find("#ivLarge360"),a.css("cursor","url('"+r.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+r.staticImages.grabbing+"'), auto"));return!1}function t(a){ea&&
(p(a.originalEvent.clientX-V),V=a.originalEvent.clientX)}function M(a){ea&&(ea=!1,h.isDefined(r.staticImages.grab)&&(a=z.find("#ivLarge360"),a.css("cursor","url('"+r.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function p(a){fa-=a/U*180;ka&&(w.count("dppc_360dragToSpin",r.mediaAsin),q.postCountMetric("dppc_360dragToSpin"));ka=!1;for(a=fa;0>a;)a+=360;for(;360<a;)a-=360;fa=a;var b;a=360;for(var c=0;c<R;c++)for(var d=0;d<K.imageLocations[c].length;d++){var e=
Math.abs(fa-5*K.imageLocations[c][d]);e<a&&(a=e,b=c*K.imageLocations[0].length+d)}b!==aa&&(a=Math.floor(b/K.imageLocations[0].length),a!==Math.floor(aa/K.imageLocations[0].length)&&(h.isDefined(ba)||(ba=document.createElement("canvas").getContext("2d")),c=z.find("#image-360-sprites").children(),ba.drawImage(c[a],0,0)),a=z.find(".iv360Hint").not(".iv360HintFaded"),h.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));aa=b;a=b%K.imageLocations[0].length*-1*U;b=-1*Math.floor(b/K.imageLocations[0].length)*
Q;c=z.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");c.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function y(){if(da){z=b("#ivMain360");var a=ga.getCurrentItem().color;u()&&c(a);K=u()?r.spin360ColorData[a]:void 0;d.populateTitle(z.find("#ivTitle360"),160,r);d.populateVariationSelection(z.find("#ivVariationSelection360"));z.find("#ivLarge360").empty();R=0;ia=ja=!1;aa=fa=0;na();da=!1}0!==b("#iv360Tab").height()&&(d.detachImmersiveViewResizeHandler(y),
g(),F(),ma=Date.now(),v=ka=!0,w.count("dppc_click360",r.mediaAsin),q.postCountMetric("dppc_click360"))}function k(a,c,e){var f=r.colorToAsin[e],g={},l=500;if(!f||!f.asin)if(e===r.defaultColor)f={asin:r.winningAsin};else return;g.params={asin:f.asin};var k="360"+f.asin,m=Date.now();g.success=function(f){w.time("dppc_asyncRequestTime360",Date.now()-m,r.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);if(f&&h.isDefined(f.spin360)){if(f=f.spin360.spin360Model)r.spin360ColorData[e]=
f,e===ga.getCurrentItem().color&&(K=r.spin360ColorData[e],J(),b("#ivThumbs360").hide(),d.unhideTabHeading("iv360TabHeading"),L(a,c,e));h.ajaxState(k,"success")}else g.error()};g.error=function(){w.count("dppc_asyncFailedTransient360",r.mediaAsin);q.postCountMetric("dppc_asyncFailedTransient360");w.time("dppc_asyncRequestTime360",Date.now()-m,r.mediaAsin);q.postTimeMetric("dppc_asyncRequestTime360",Date.now()-m);l*=2;16E3>=l?setTimeout(function(){m=Date.now();B.load("/gp/product/features/apparel-main-image/360.html",
g)},l):(w.count("dppc_asyncFailed360",r.mediaAsin),q.postCountMetric("dppc_asyncFailed360"),h.ajaxState(k,"fail"))};h.ajaxState(k)&&"fail"!==h.ajaxState(k)||(B.load("/gp/product/features/apparel-main-image/360.html",g),h.ajaxState(k,"sent"))}function L(a,b,d){if(h.isImmersiveViewEnabled(r,ga.getCurrentItem().color)&&u()&&c(d)){if(b===r.maxAlts){d=a.find(".item.imageThumbnail");var f=a.find(".item.videoThumbnail");h.isDefined(f)&&1<f.length?f.last().remove():d.last().remove();b--}d=a.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item");
e.declarative.create(d,"button-360-click");a.append(d);b++;w.count("dppc_display360",r.mediaAsin);q.postCountMetric("dppc_display360")}return b}function u(){return r&&h.isDefined(r.spin360ConfigEnabled)&&r.spin360ConfigEnabled}function c(a){return h.isDefinedAndNotEmpty(r.spin360ColorData[a])?!0:h.isDefined(r.spin360LazyLoadEnabled)&&r.spin360LazyLoadEnabled}function f(){v&&(w.time("dppc_duration360",Date.now()-ma,r.mediaAsin),q.postTimeMetric("dppc_duration360",Date.now()-ma),v=!1)}var l,r,ga,z,
K,U,Q,Z,S,V,ha,ja=!1,ia=!1,fa=0,aa=0,ma=0,W=0,ea=!1,C=!1,R=0,ba,ka=!0,v=!1,da=!0,na=e.once(function(){d.attachImmersiveViewResizeHandler(y);d.attachImmersiveViewResizeHandler(g);d.attachImmersiveViewResetHandler(f);d.attachTabDeselectHandler("iv360Tab",f)});return function(a,e,f,g){l=this;r=a;ga=e;a=r.landingAsinColor;e=r.defaultColor;h.isDefined(r.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",d.addStyleCodeToURL(r.staticImages.icon360,"_FMpng_RI_"));
u()&&(r.spin360ColorData||(r.spin360ColorData={}),a===e&&h.isDefinedAndEmpty(r.spin360ColorData[e])&&delete r.spin360ColorData[e]);l.render=function(a,e,f,g,l,m){da=!0;u()&&c(a)?(f=r.spin360ColorData[a],h.isDefinedAndEmpty(f)?d.hideTabHeading("iv360TabHeading"):h.isDefinedAndNotEmpty(f)?(b("#ivThumbs360").hide(),d.unhideTabHeading("iv360TabHeading"),L(g,e,a)):(r.spin360ColorData[a]={},d.hideTabHeading("iv360TabHeading"),k(g,e,a))):d.hideTabHeading("iv360TabHeading")};l.update=function(a){};d.attachTabSelectHandler("iv360Tab",
y)}});F.register("nexusLogger360",function(){return{count:function(e,m){B.ue&&B.ue.event({asin:m,metricName:e,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(e,m,n){B.ue&&B.ue.event({asin:n,metricName:e,metricValue:m},"hit-360","hit360.clientEvent.3")}}});"use strict";F.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,m){try{var n=B.location.host,b={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},h=n.split(".")[1],
I=-1===n.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==b[h]?b[h]:"https://www.amazon.com/vap/ew/",w="vse_lazyLoaderHook:success:",q="vse_lazyLoaderHook:error:",d="vse_preLoaderHook:success:",g="vse_preLoaderHook:error:",H="vse_lightPlayerLoaderHook:success:",D="vse_lightPlayerLoaderHook:error:",E=4E3,G=3}catch(x){m.logError("FATAL","vse_ns_desktop","[Domain] ",x)}F.register("vse_ns_preLoaderHook",function(){function b(h,n){try{var a=h.A,q=h.block,t=h.request,w=h.handleFailure,p=h.handleSuccess,
y=a.$;n--;var k=G-n-1,x=a.now();a.ajax(I+"componentbuilder",{params:t,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:t.timeout||E,withCredentials:!0,success:function(b){var f=a.now()-x;e.postTimeMetric(d,f);e.postCountMetric(d+t.page+":"+t.placement+":"+k);y(q).html(b);p(a,t,b)},error:function(c){e.postCountMetric(g+t.page+":"+t.placement+":"+k);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<n?b(h,n):(e.postCountMetric(g,1),w(a,t,c))}})}catch(u){m.logError("FATAL",
"vse_ns_desktop","[vse_ns_preLoaderHook] ",u)}}return{get:function(d,e,a,g,h){b({A:d,block:e,request:a,handleFailure:h,handleSuccess:g},G)}}});F.register("vse_ns_lazyLoaderHook",function(){function b(d,g,a){try{var h=d.A,n=d.context,x=d.handleFailure,p=d.handleSuccess;g.attr("data-configuration");var y=atob(g.attr("data-configuration")),k=JSON.parse(y),B={pageContext:n,configuration:k},u=h.now();a--;var c=G-a-1;h.ajax(I+"subcomponent/"+k.type,{params:B,paramsFormat:"json",method:"post",contentType:"application/json",
timeout:n.timeout||E,withCredentials:!0,success:function(a){var b=h.now()-u;e.postTimeMetric(w,b);e.postCountMetric(w+n.page+":"+n.placement+":"+k.type+":"+c);g.html(a);p(h,B,a)},error:function(f){e.postCountMetric(q+n.page+":"+n.placement+":"+k.type+":"+c);(0===f.http.status||500<=f.http.status&&599>=f.http.status)&&0<a?b(d,g,a):(e.postCountMetric(q,1),x(h,B,f))}})}catch(f){m.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",f)}}return{get:function(d,e,a,g,h){var m=d.$;m(e+" div[data-configuration]").each(function(){b({A:d,
context:a,handleFailure:h,handleSuccess:g},m(this),G)})}}});F.register("vse_ns_videoPlayer",function(){function b(d,g,a){try{var h=d.A,n=d.block,q=d.request,p=d.handleFailure,w=d.handleSuccess,k=h.$;a--;var x=G-a-1,u=h.now();h.ajax(I+"subcomponent/lightvideoplayer",{params:q,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:q.timeout||E,withCredentials:!0,success:function(a){var b=h.now()-u;e.postTimeMetric(H,b);e.postCountMetric(H+q.page+":"+q.placement+":"+
x);k(n).html(a);w(h,q,a)},error:function(c){e.postCountMetric(D+q.page+":"+q.placement+":"+x);(0===c.http.status||500<=c.http.status&&599>=c.http.status)&&0<a?b(d,a):(e.postCountMetric(D,1),p(h,q,c))}})}catch(c){m.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",c)}}return{get:function(d,e,a,g,h){b({A:d,block:e,request:a,handleFailure:h,handleSuccess:g},G)}}})})});